---
date: 2026-02-20
sessions: 1
sources: claude-code
---

## 调研成果
1. Redis的`SETNX`命令可以实现分布式锁，但需要配合`EXPIRE`防止死锁

## 踩坑记录
1. Redis连接池默认大小可能不足，高并发时需要明确配置`max_connections`

## 工具技巧
1. `redis-cli --scan --pattern "user:*"`可以安全扫描大型Redis实例（不阻塞）

## 模式识别
1. 分布式系统中，锁的获取和释放应该是原子操作，防止竞态条件
